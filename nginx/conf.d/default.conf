server {
    listen 8080 default_server;
    listen [::]:8080 default_server ipv6only=on;
    charset utf-8;

    client_max_body_size 50M;

    # SSL configuration TLS

    #listen 443 ssl http2 default_server;
    #listen [::]:443 ssl http2 default_server ipv6only=on; #

    # Note: You should disable gzip for SSL traffic.
    # Read up on ssl_ciphers to ensure a secure configuration.
    # See: https://bugs.debian.org/765782 #
    # Self signed certs generated by the ssl-cert package
    # Don't use them in a production server!
    #
    # include snippets/snakeoil.conf;

    #root /backend;
    keepalive_timeout 5;

    server_name _;

    #include /etc/nginx/whitelist.conf;

    location / {
        limit_except GET POST PUT PATCH DELETE {
            deny all;
        }
        #include /etc/nginx/cors;

        # First attempt to serve request as file, then
        # as directory, then fall back to displaying a 404.

        #try_files $uri $uri/ /404.html;

        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_send_timeout 120;
        proxy_read_timeout 120;

        proxy_pass http://10.0.0.5:8090;

        proxy_set_header REMOTE_ADDR $remote_addr;
    }

    location ~ /\.ht {
        deny all;
    }
    location ~ /\.well-known {
        allow all;
        access_log off;
        log_not_found off;
    }
    if ($badagent) {
        return 403;
    }
}
